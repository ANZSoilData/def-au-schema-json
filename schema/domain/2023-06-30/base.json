{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "base.json",
    "title": "ANSIS JSON Base Schema",
    "description": "Base properties and objects used to identify, type and link entities, bind them to schema, and otherwise describe objects from a system, rather than domain, perspective.",
    "$comment": "Linked Data properties as per https://www.w3.org/TR/json-ld.",
    "type": "null",
    "$defs": {
        "curiPrefix": {
            "xs": "https://www.w3.org/TR/xmlschema-2/#",
            "rdfs": "http://www.w3.org/2000/01/rdf-schema#",
            "foaf": "http://xmlns.com/foaf/0.1/#"
        },
        "$schema": {
            "$anchor": "js-schema",
            "range@type": "xs:anyURI",
            "title": "JSON $schema",
            "$comment": "The JSON schema for the object. For use when \"additionalProperties\": false and therefore a property names $schema reference is a Bad Thing.",
            "type": "string",
            "format": "iri"
        },
        "id": {
            "$anchor": "id",
            "range@type": "xs:string",
            "title": "ANSIS Object Identifier",
            "description": "A local system identifier (i.e. not intended or guaranteed to be universally unique) for an object in the ANSIS system.",
            "$comment": "Generated by ANSIS. Used to link data together during mapping and processing. After: https://jsonapi.org/format/#document-resource-object-identification",
            "type": "string"
        },
        "pointer": {
            "$anchor": "pointer",
            "range@type": "xs:string",
            "title": "ANSIS JSON Object Pointer",
            "description": "A JSON Pointer showing the path to a object referred to using a link.",
            "$comment": "Provides the path to an entity included elsewhere in the JSON document (# pointer) or by another service request (URL prefixed pointer).",
            "type": "string",
            "format": "json-pointer"
        },
        "type": {
            "$anchor": "type",
            "range@type": "xs:anyURI",
            "title": "JSON Object Type",
            "description": "A compact URI uniquely identifying the type of the object using IDs from the OWL/RDF domain model.",
            "$comment": "After: https://jsonapi.org/format/#document-resource-objects",
            "type": "string",
            "format": "iri"
        },
        "href": {
            "$anchor": "href",
            "range@type": "xs:anyURI",
            "title": "HREF",
            "description": "a string whose value is a URI-reference [RFC3986 Section 4.1] pointing to a linkâ€™s target.",
            "$comment": "After: https://jsonapi.org/format/#auto-id--link-objects",
            "type": "string",
            "format": "iri"
        },
        "label": {
            "$anchor": "label",
            "@id": "rdfs:label",
            "range@Type": "xs:string",
            "title": "RDF Schema Label",
            "description": "A human-readable name for the object.",
            "type": "string"
        },
        "name": {
            "$anchor": "name",
            "@id": "foaf:term_name",
            "range@Type": "xs:string",
            "title": "FOAF Name",
            "description": "A name for some thing.",
            "type": "string"
        },
        "scopedIdentifier": {
            "$anchor": "scopedIdentifier",
            "range@type": "base:ScopedIdentifier",
            "title": "scoped identifier",
            "description": "An identifier for a site or sample scoped to the authority that assigned the identifier.",
            "$ref": "#ScopedIdentifier"
        },
        "source": {
            "$anchor": "source",
            "@id": "dcterms:source",
            "range@Type": "xs:string",
            "title": "Dublin Core Source",
            "description": "A related resource from which the described resource is derived. The described resource may be derived from the related resource in whole or in part. Recommended best practice is to identify the related resource by means of a string conforming to a formal identification system.",
            "type": "string"
        },
        "Entity_Link": {
            "$anchor": "Entity_Link",
            "title": "ANSIS Entity Link",
            "description": "A simple object supporting a link (id and pointer) to another entity with extra properties to help label the link, or clarify the type of target.",
            "type": "object",
            "oneOf": [
                {
                    "required": ["id"]
                },
                {
                    "required": ["href"]
                }
            ],
            "properties": {
                "id": {"$ref": "#id"},
                "href": {"$ref": "#href"},
                "pointer": {"$ref": "#pointer"},
                "type": {"$ref": "#type"},
                "title": {"$ref": "#label"}
            },
            "additionalProperties": false
        },
        "ScopedIdentifier": {
            "$anchor": "ScopedIdentifier",
            "title": "ANSIS Scoped Identifier",
            "description": "A simple object holding an identifier as assigned by a provider/agency. The provider/agency may, optionally, be specified by the authority property.",
            "$comment": "Based on the GML identifier (scoped name - code with with authority).",
            "type": "object",
            "required": ["name"],
            "properties": {
                "name": {"$ref": "#name"},
                "authority": {
                    "$ref": "#name",
                    "$comment": "The ID of the provider (suggestion)."
                }
            }
        }
    }
}